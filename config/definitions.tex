
%TODO: use xindy or whatever to index these terms
\newcommand{\term}[1]{\emph{#1}}

\newcommand{\TODO}[1]{{\color{red} #1}}
\newcommand{\TODOfig}[1][figure]{\parbox[h][\figureheight][c]{\figurewidth}{\centering \vfill \TODO{#1} \vfill}}

\newcommand{\TOCInsert}[2]{\addcontentsline{toc}{#1}{#2}}
\newcommand{\chapterNoNum}[1]{\chapter*{#1} \TOCInsert{chapter}{#1}}
\newcommand{\sectionNoNum}[1]{\section*{#1} \TOCInsert{section}{#1}}

\newcommand{\researchBasedOn}[2][This chapter]{\begin{centering}\small\textsf{#1 is based on~\citet{#2}.}\end{centering}}

%% Referencing
\newcommand{\egref}[1]{Example~\ref{#1}}
\newcommand{\figref}[1]{Figure~\ref{#1}}
\newcommand{\tabref}[1]{Table~\ref{#1}}
\newcommand{\defref}[1]{Definition~\ref{#1}}
\newcommand{\secref}[1]{Section~\ref{#1}}
\newcommand{\chapref}[1]{Chapter~\ref{#1}}
\newcommand{\propref}[1]{Property~\ref{#1}}
\newcommand{\legref}[2][1]{(\ref{#2})}
\newcommand{\lstref}[1]{Listing~\ref{#1}}
\newcommand{\algoref}[1]{Algorithm~\ref{#1}}

\newcommand{\sectref}[1]{Section~\ref{#1}} % references for sections
\newcommand{\appref}[1]{Appendix~\ref{#1}}
\newcommand{\thmref}[1]{Theorem~\ref{#1}}
\newcommand{\guideref}[1]{Guideline~\ref{#1}}

%% Common names
\newcommand{\matlab}{\textsc{Matlab}\texttrademark}
\newcommand{\MATLAB}{\matlab\xspace}
\newcommand{\labview}{\mbox{LabVIEW\texttrademark}}
\newcommand{\FDIDENT}{Frequency Domain System Identification Toolbox}
\newcommand{\BK}{Br\"{u}el \& Kj\ae{}r}
\newcommand{\bruelkjaer}{\BK{}}
\newcommand{\HP}{Hewlett~Packard\xspace}
\newcommand{\YK}{Youla-Ku\v{c}era}

%% Common terms
\newcommand{\IEEEfloat}{\textsc{IEEE~754}\xspace}

%% Statistical operators
%TODO: only single definition of E, Bias, MSE, ...
\newcommand{\Prob}[1]{\ensuremath{\mathrm{P}}\!\left( #1 \right)}

\DeclareMathOperator{\Expectancy}{E}
\DeclareMathOperator{\Bias}{Bias}
\DeclareMathOperator{\MSE}{MSE}
\DeclareMathOperator{\RootMeanSquare}{RMS}
\DeclareMathOperator{\lcm}{lcm}

\DeclareMathOperator{\RealPart}{\mathrm{Re}}
\DeclareMathOperator{\ImagPart}{\mathrm{Im}}
\DeclareMathOperator{\RealImagPart}{\stackrel{\mathrm{Re}}{\mathrm{Im}}}
\DeclareMathOperator{\Diagonal}{\mathrm{diag}}

\DeclareMathOperator*{\argmin}{argmin} %cost function minimizer!! MLDL per JL
\DeclareMathOperator*{\Arg}{arg}

\DeclareMathOperator{\ExpectedValue}{\mathrm{E}}
\DeclareMathOperator{\Variance}{\mathrm{Var}}
\DeclareMathOperator{\Covariance}{\mathrm{Cov}}
\DeclareMathOperator{\BiasValue}{\mathrm{bias}}

\newcommand{\E}[2][]{\ExpectedValue_{#1} \left[ #2 \right]}
\newcommand{\Var}[2][]{\Variance_{#1} \left[ #2 \right]}
\newcommand{\var}[2][]{\Variance_{#1} \left[ #2 \right]}
\newcommand{\Cov}[3][]{\Covariance_{#1} \left[ #2 , #3 \right]}

\newcommand{\expval}[1]{\Expectancy\left[#1\right]} %expected value
\newcommand{\bias}[1]{\ensuremath{\Bias \left( #1 \right)}}
\newcommand{\mse}[1]{\ensuremath{\MSE \left( #1 \right)}}
\newcommand{\rms}[1]{\ensuremath{\RootMeanSquare \left( #1 \right)}}

\newcommand{\expectedValue}[1]{\ensuremath{\expval{#1}}}

\newcommand{\crest}[1]{\ensuremath{\mathrm{Cr}\left( #1 \right)}}

%% Calculus operations
\newcommand{\pd}{\partial}
\newcommand{\dd}{\mathrm{d}}
\newcommand{\derivativeNotation}[4][]{\frac{{#4}^{#1} #2}{#4 #3}}
\newcommand{\PartialDerivative}[3][]{\derivativeNotation[#1]{#2}{#3}{\pd}}
\newcommand{\FullDerivative}   [3][]{\derivativeNotation[#1]{#2}{#3}{\dd}}

%% Matrix operations
\newcommand{\I}{\ensuremath{\mathrm{I}}}
\newcommand{\Identity}[1]{\ensuremath{\I_{#1}}}
\newcommand{\TT}{\ensuremath{\mathrm{T}}} %TODO: remove this?
\renewcommand{\T}{\ensuremath{\mathrm{T}}} %TODO: where is the original definition of \T ?
\newcommand{\HT}{\ensuremath{\mathrm{H}}}
\renewcommand{\C}{\ensuremath{\mathrm{C}}}
\newcommand{\inv}[1]{\ensuremath{#1^{-1}}}
\newcommand{\pinv}[1]{\ensuremath{#1^{+}}}
\newcommand{\conj}[1]{\ensuremath{\overline{#1}}}

\newcommand{\real}[1]{\ensuremath{\RealPart \left[#1\right]}}
\newcommand{\imag}[1]{\ensuremath{\ImagPart \left[#1\right]}}
\newcommand{\realimag}[1]{\ensuremath{\RealImagPart \left[#1\right]}}
\newcommand{\diag}[1]{\ensuremath{\Diagonal \left({#1}\right)}}

%% Linear Algebra operations
\newcommand{\OuterProduct} [3][\T]{{#2}{#3}^{#1}} %AB^T
\newcommand{\OuterProductC}[2]{\OuterProduct[\HT]{#1}{#2}}
\newcommand{\OuterProductR}[2]{\OuterProduct[\T ]{#1}{#2}}
\newcommand{\OuterProductSelf}[2][\T]{\OuterProduct[#1]{#2}{#2}} %AA^T

\newcommand{\InnerProduct} [3][\T]{{#2}^{#1}{#3}}  % A^T A
\newcommand{\InnerProductC}[2]{\InnerProduct[\HT]{#1}{#2}}
\newcommand{\InnerProductR}[2]{\InnerProduct[\T]{#1}{#2}}
\newcommand{\InnerProductSelf}[2][\T]{\InnerProduct[#1]{#2}{#2}} %A^T A

\newcommand{\OuterQuadraticForm}[3][\T]{#2  #3 #2^{#1}} % A B A^T
\newcommand{\InnerQuadraticForm}[3][\T]{#2^{#1} #3 #2} % A^T B A
\newcommand{\QuadraticForm}[3][\T]{\InnerQuadraticForm[#1]{#2}{#3}}

%% Numbers sets
\newcommand{\Negative}[1]{\ensuremath{{#1}^{-}}}
\newcommand{\Positive}[1]{\ensuremath{{#1}^{+}}}
\newcommand{\Nonzero }[1]{\ensuremath{{#1}_{0}}}

\newcommand{\NaturalNumbers}{\ensuremath{\mathbb{N}}}
\newcommand{\NaturalNumbersWithoutZero}{\ensuremath{\NaturalNumbers_{0}}}
\newcommand{\IntegerNumbers}{\ensuremath{\mathbb{Z}}}
\newcommand{\RationalNumbers}{\ensuremath{\mathbb{Q}}}
\newcommand{\RealNumbers}{\ensuremath{\mathbb{R}}}
\newcommand{\ComplexNumbers}{\ensuremath{\mathbb{C}}}

\newcommand{\GenericField}{\ensuremath{\mathbb{F}}}
\newcommand{\BoundedField}{\ensuremath{\mathbb{B}}}

\newcommand{\Integers}{\IntegerNumbers}
\newcommand{\PositiveRealNumbers}{\ensuremath{\Positive{\RealNumbers}}}
\newcommand{\NegativeRealNumbers}{\ensuremath{\Negative{\RealNumbers}}}
\newcommand{\RealNumbersWithoutZero}{\ensuremath{\Nonzero{\RealNumbers}}}

\newcommand{\NN}{\NaturalNumbers}
\newcommand{\ZN}{\IntegerNumbers}
\newcommand{\QN}{\RationalNumbers}
% \newcommand{\RN}{\RealNumbers}
\newcommand{\RR}{\RealNumbers}
\newcommand{\CN}{\ComplexNumbers}
\newcommand{\FF}{\GenericField}

\newcommand{\BB}{\BoundedField}
\newcommand{\Bound}{\BB}

%% Special Equality symbols
\newcommand{\isdef}{\ensuremath{\triangleq}}
\newcommand{\qeq}{\ensuremath{\stackrel{?}{=}}}
\newcommand{\distributedAs}{\ensuremath{\sim}}
\newcommand{\distributed}[1][]{\ensuremath{\stackrel{#1}{\sim}}}
\newcommand{\equals}[1][]{\ensuremath{\stackrel{#1}{=}}}
\newcommand{\approxequals}[1][]{\ensuremath{\stackrel{#1}{\approx}}}

%% Unary operators
\newcommand{\round}[1]{ \left\lfloor #1 \right\rceil}
\newcommand{\floor}[1]{ \left\lfloor     #1 \right\rfloor}
\newcommand{\ceil }[1]{ \left\lceil      #1 \right\rceil}
\newcommand{\abs }[1]{ \left|      #1 \right|}
\newcommand{\norm}[2][]{\ensuremath{\left\| #2 \right\|_{#1}}}
\newcommand{\infnorm} [1]   {\ensuremath{\norm[\infty]{#1}}}
\newcommand{\hinfnorm}[1]{\ensuremath{\infnorm{#1}}}

%% Unit formatting
\newcommand{\unit}[1]{\ensuremath{\,\mathrm{#1}}}
\newcommand{\axisunit}[1]{\ensuremath{\,\left[\mathrm{#1}\right]}}
\newcommand{\noaxisunit}{ }

\newcommand{\plotunit}[1]{\axisunit{#1}} %TODO: remove

%% Distributions
\DeclareMathOperator{\NormalDistribution}{\mathcal{N}}
\DeclareMathOperator{\DiracDistribution}{\delta}
\DeclareMathOperator{\CircularNormalDistribution}{\mathcal{C}\!\NormalDistribution}
\DeclareMathOperator{\ComplexCircularNormalDistribution}{\CN\!\CircularNormalDistribution}

\newcommand{\Dirac}[1]{\DiracDistribution\left(#1\right)}
\newcommand{\Normal}[2]{\NormalDistribution\left(#1,#2\right)}
\newcommand{\CircularNormal}[3]{\CircularNormalDistribution\!\left(#1,#2,#3\right)}
\newcommand{\ComplexCircularNormal}[2]{\ComplexCircularNormalDistribution\!\left(#1,#2\right)}

\newcommand{\dirac}[1]{\ensuremath{\delta \left( #1 \right)}} %TODO: replace

%% Interval Specifications
\newcommand{\LeftOpenInterval}[1]{\ensuremath{\left] #1 \right]}}
\newcommand{\RightOpenInterval}[1]{\ensuremath{\left[ #1 \right[}}
\newcommand{\OpenInterval}[1]{\ensuremath{\left] #1 \right[}}
\newcommand{\ClosedInterval}[1]{\ensuremath{\left[ #1 \right]}}

%% 
\newcommand{\Hardy}{\ensuremath{\mathcal{H}}}
\newcommand{\Hinf}{\ensuremath{\Hardy_{\infty}}}

\newcommand{\deemph}[1]{{\color{gray}{#1}}}

\newcommand{\MC}{\ensuremath{\mathrm{MC}}}
\newcommand{\atIter}[2][]{{#2}^{[#1]}}

% http://tex.stackexchange.com/questions/183955/sum-within-a-fraction
\newcommand{\Sum}{\sum\limits}
\newcommand{\costFunc}[1]{\ensuremath{V_{#1}}}
\newcommand{\validationDistance}[1]{\ensuremath{D_{#1}}}
\newcommand{\model}[2][]{\ensuremath{\hat{G}_{\mathrm{#2}}^{\mathrm{#1}}}}

\newcommand{\code}[1]{\texttt{#1}}

\newcommand{\SNR}{\ensuremath{\mathrm{SNR}}}
\newcommand{\RMSE}{\ensuremath{\mathrm{RMSE}}}

\newcommand{\mean}[2]{\ensuremath{\sqrt{#1 #2}}} %TODO: name is poorly chosen, this is the geomean

\newcommand{\FisherInformation}{\ensuremath{\mathrm{Fi}}}
\newcommand{\Fi}[1]{\ensuremath{\FisherInformation \left(#1\right)}}
\newcommand{\IF}{\ensuremath{\Fi{\theta}}}

\newcommand{\CramerRao}{\ensuremath{\mathrm{CR}}}
\newcommand{\CR}[1]{\ensuremath{\CramerRao \left(#1\right)}}

\newcommand{\jac}[1]{\ensuremath{J_{#1}}}
\newcommand{\interest}{\ensuremath{\mathrm{int}}}
\newcommand{\excited }{\ensuremath{\mathrm{exc}}}
\newcommand{\loglikelihood}[1]{\ensuremath{\ell\left( #1 \right) }}
\newcommand{\fc}{\ensuremath{f_{\mathrm{c}}}}
%% Sets
\newcommand{\given}[1]{\left| #1 \right.}
\newcommand{\without}{\ensuremath{\backslash}}

\newcommand{\decade}{\ensuremath{\mathrm{dec.}}}

\newcommand{\eps }{\varepsilon}

\newcommand{\wallclocktime}[1][]{\ensuremath{t_{\mathrm{wall-clock}}}}
\newcommand{\cputime}[1][]{\ensuremath{t_{\mathrm{CPU}}}}

%%
\newcommand{\trueSymbol}{\ensuremath{\circ}}
\newcommand{\true}[1]{\ensuremath{{#1}_{\trueSymbol}}}


%% Common symbols
\newcommand{\wdB}{\ensuremath{\mathrm{BW}_{3\unit{dB}}}}
\newcommand{\sysBW}{\wdB}
\newcommand{\Tm}{\ensuremath{T_{\mathrm{meas}}}}
\newcommand{\dc}[1][]{\ensuremath{K_{#1}}}
\newcommand{\timeconst}[1][]{\ensuremath{\tau_{#1}}}
\newcommand{\damping}[1][]{\ensuremath{\xi_{#1}}}
\newcommand{\wn}[1][]{\ensuremath{\omega_{\mathrm{n}#1}}}
\newcommand{\wc}[1][]{\ensuremath{\omega_{\mathrm{c}#1}}}
\newcommand{\wz}[1][]{\ensuremath{\omega_{\mathrm{z}#1}}}
\newcommand{\pole}[1][]{\ensuremath{{p}_{#1}}}
\newcommand{\multiplicity}[1][]{\ensuremath{\nu_{#1}}}
\newcommand{\wM}[1][]{\ensuremath{\omega_{\mathrm{M}#1}}}
\newcommand{\wR}{\ensuremath{\omega_{\mathrm{R}}}}
\newcommand{\wNom}{\ensuremath{\omega_{\mathrm{nom}}}}
\newcommand{\fR}{\ensuremath{f_{\mathrm{R}}}}
\newcommand{\fs}{\ensuremath{f_{\mathrm{s}}}}
\newcommand{\Ts}{\ensuremath{T_{\mathrm{s}}}}
\newcommand{\Tw}[1][]{\ensuremath{\wn^{#1}\Ts^{#1}}}
\newcommand{\wInterest}{\ensuremath{\omega_{\mathrm{I}}}}
\newcommand{\snorm}[1][]{\frac{s^{#1}}{\wn^{#1}}}
\newcommand{\nth}[1][]{\ensuremath{n_{\theta}}}
\newcommand{\pdf}[2][]{\ensuremath{f_{#1} \left(#2 \right)}}
\newcommand{\placeBetweenGrid}[1]{\ensuremath{\mathrm{misalign} \left( #1 \right) }}
\newcommand{\infgrid}[1]{\ensuremath{\vec{#1}}}
\newcommand{\powerspec}[1]{\ensuremath{\phi_{#1}}}


\newcommand{\successRate}{\ensuremath{\eta}}
\newcommand{\toleranceSymbol}{\ensuremath{\varepsilon}}
\newcommand{\absoluteTolerance}{\ensuremath{\toleranceSymbol_{\mathrm{A}}}}
\newcommand{\relativeTolerance}{\ensuremath{\toleranceSymbol_{\mathrm{R}}}}

% \newcommand{\fMax}[1]{\ensuremath{f_{#1 \max}}}
% \newcommand{\fMin}[1]{\ensuremath{f_{#1 \min}}}

\newcommand{\fMax}[1]{\ensuremath{\overline{f_{#1}}}}
\newcommand{\fMin}[1]{\ensuremath{\underline{f_{#1}}}}

\newcommand{\kMin}{\ensuremath{k_{\min}}}
\newcommand{\kMax}{\ensuremath{k_{\max}}}

\newcommand{\LandauBigO}{\ensuremath{\mathcal{O}}}
\newcommand{\bigO}[1]{\ensuremath{\LandauBigO \left( #1 \right)}}

%\renewcommand{\fMax}[1]{\ensuremath{f_{#1+1/2}}}
%\renewcommand{\fMin}[1]{\ensuremath{f_{#1-1/2}}}
  
\newcommand{\placeholder}{\ensuremath{\bullet}}

\newcommand{\DT}{\ensuremath{\mathrm{DT}}}
\newcommand{\CT}{\ensuremath{\mathrm{CT}}}
\newcommand{\DTmethod}{zero-order-hold}


%% Formatting

\newcommand{\emspace}{\ensuremath{\qquad}}

\newcommand{\numberOf}{\ensuremath{\#}}
\newcommand{\numel}[1]{\ensuremath{n_{#1}}}
\newcommand{\order}[1]{\ensuremath{N_{#1}}}
\newcommand{\f}{\ensuremath{\mathbb{f}}}

\newcommand{\LOGGRID}{\ensuremath{\mathrm{LG}}}
\newcommand{\QLOGGRID}{\ensuremath{\mathrm{QLG}}}
\newcommand{\GRID}{\ensuremath{\mathrm{GRD}}}


\usepackage{pifont}
\newcommand{\circledNum}[1]{\ding{\numexpr201 + #1}}

%% Hinf stuff
\newcommand{\HardySpace}[1][]    {\texorpdfstring{\ensuremath{\mathcal{H}_{#1}}}{H#1}}
\newcommand{\LebesgueSpace}[1][] {\ensuremath{\mathcal{L}_{#1}}}

\newcommand{\RealRational}{\ensuremath{\mathcal{R}}}

\renewcommand{\Hinf}{\texorpdfstring{\HardySpace[\infty]}{Hinf}}
\renewcommand{\Hinf}{\ensuremath{\mathcal{H}_{\infty}}}
\newcommand{\RHinf}{\RealRational\Hinf}

\newcommand{\worstCase}[1]             {\ensuremath{{#1_{\text{wc}}}}}
\newcommand{\Robust}[1]       {\ensuremath{{#1}_\text{R}}}
\newcommand{\ControlRelevant}[1]       {\ensuremath{{#1}_\text{CR}}}
\newcommand{\RobustControlRelevant}[1] {\ensuremath{{#1}_\text{RCR}}}
\newcommand{\RobustStability}[1]       {\ensuremath{{#1}_\text{RS}}}
\newcommand{\RobustPerformance}[1]     {\ensuremath{{#1}_\text{RP}}}

\newcommand{\ControlObjective} {\ensuremath{\mathcal{J}}}
\newcommand{\estimated} [1]    {\ensuremath{\hat{#1}}}

% \newcommand{\set}   [1] {\ensuremath{ \left\{ {#1} \right\} }}
\newcommand{\tuple} [1] {\ensuremath{ \left( {#1} \right) }}
\newcommand{\mat}   [1] {\ensuremath{ \left[ \begin{matrix} #1 \end{matrix} \right] }}
\newcommand{\poly}  [1] {\ensuremath{\widetilde{#1}}}

\newenvironment{Matrix}{\left[ \begin{matrix}}{\end{matrix} \right]}

\newcommand{\ctr}[1]{\ensuremath{\widetilde{#1}}}

\newcommand{\ezbrace}[2]{\ensuremath{\overbrace{\color{black}#1}^{\color{gray!75} #2}}}

\newcommand{\singularValue}[1]{\ensuremath{\mathbf{\sigma} \left( #1 \right) }}

\newcommand{\LPM}{\ensuremath{\mathrm{LPM}}}
\newcommand{\LRM}{\ensuremath{\mathrm{LRM}}}
\newcommand{\lpm}[1]{\ensuremath{\LPM \left( #1 \right) }}
\newcommand{\lrm}[1]{\ensuremath{\LRM \left( #1 \right) }}


\newcommand{\Left}[1]{\ensuremath{#1_{\mathrm{L}}}}
\newcommand{\Right}[1]{\ensuremath{#1_{\mathrm{R}}}}

\newcommand{\stable}{\ensuremath{\;\mbox{stable}}}

\newcommand{\stablePart}[1]{S}
\newcommand{\unstablePart}[1]{}

\newcommand{\stateSpace}[4]{\mat{ \begin{array}{c|c} #1 & #2 \\ \hline #3 & #4 \end{array} }}

\newcommand{\Vdm}[2]{\ensuremath{\mathrm{Vd}_{#1}^{#2}}}

\newcommand{\Crit}{\ensuremath{\mathcal{J}}}
\newcommand{\Controller}{\ensuremath{C}}
\newcommand{\ModelSet}[1][\color{modelset}]{{\ensuremath{#1\mathcal{P}}}}
\newcommand{\ModelUncertainty}{\ensuremath{{\color{delta}{\Delta}}}}
\newcommand{\Plant}{\ensuremath{P}}
\newcommand{\nominalModel}{{\color{plant}{\estimated\Plant}}}
\newcommand{\estimatedPlant}{\nominalModel}
\newcommand{\truePlant}{{\color{plant}{\true\Plant}}}

\newcommand{\experimental}[1]{\ensuremath{#1^{\mathrm{exp}}}}
\newcommand{\robust}[1]{\ensuremath{#1^{\mathrm{R}}}}
\newcommand{\controlrelevant}[1]{\ensuremath{#1^{\mathrm{CR}}}}
\newcommand{\robustcontrolrelevant}[1]{\ensuremath{#1^{\mathrm{RCR}}}}
\newcommand{\ClosedLoop}[1]{\ensuremath{\mathrm{T}\left(#1\right)}}

\newcommand{\LocalWindow}{\ensuremath{\mathbb{W}}}
\newcommand{\LocalModel}[1]{\ensuremath{\widetilde{#1}}}

\newcommand{\Frequencies}{\ensuremath{\Omega}}
\newcommand{\DFTGrid}{\ensuremath{\Omega_{\mathrm{DFT}}}}
\newcommand{\InterGrid}{\ensuremath{\Omega \setminus \DFTGrid}}
